(this["webpackJsonpbooks-store"]=this["webpackJsonpbooks-store"]||[]).push([[0],{14:function(e,t,c){"use strict";var s={ACTION_ADD_BOOK_TO_CART:"ADD_TO_CART",ACTION_REMOVE_BOOK_FROM_CART:"REMOVE_FROM_CART",actionAddBookToCart:function(e){return{type:s.ACTION_ADD_BOOK_TO_CART,payload:e}},actionRemoveBookFromCart:function(e){return{type:s.ACTION_REMOVE_BOOK_FROM_CART,payload:e}}};t.a=s},40:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(8),a=(c(76),c(14)),r=c(6),i=c(1),o=c(2),l=function(e){var t=e.data,c=Object(o.b)(),l=Object(o.c)((function(e){return e.cart.cart})),b=(t.book_description.slice(0,120),Object(i.useState)(!0)),j=Object(n.a)(b,2),d=j[0],u=j[1],O=Object(i.useState)(!0),m=Object(n.a)(O,2),h=m[0],x=m[1],f=a.a.actionAddBookToCart,p=a.a.actionRemoveBookFromCart;return Object(i.useEffect)((function(){l.filter((function(e){return e._id===t._id})).length&&(x((function(e){return!e})),u((function(e){return!e})))}),[]),Object(s.jsx)("div",{className:"col mt-3",children:Object(s.jsxs)("div",{className:"card h-100 w-100",children:[Object(s.jsx)(r.b,{to:"/book/".concat(t._id),children:Object(s.jsx)("img",{src:"http://placehold.it/400x300",className:"card-img-top",alt:"Some image"})}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsxs)("h5",{className:"text-muted mt-1 mb-1",children:[t.book_price,"$"]}),Object(s.jsx)("h5",{className:"card-title mt-1 mb-1",children:t.book_name}),Object(s.jsx)("div",{className:"itemButtons ms-0 ps-0",children:Object(s.jsx)("button",{onClick:function(e){c(h?f(t):p(t._id)),x((function(e){return!e})),u((function(e){return!e}))},className:h?"btn btn-success btn-sm ms-0":"btn btn-danger btn-sm ms-0",children:d?"Add to cart":"Remove cart"})})]})]})})};t.default=l},41:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(8),a=c(1),r=c(2),i=c(6),o=c(14),l=(c(78),function(e){var t=e.data,c=Object(r.c)((function(e){return e.cart.cart})),l=Object(r.b)(),b=t.book_description.slice(0,120),j=Object(a.useState)(!0),d=Object(n.a)(j,2),u=d[0],O=d[1],m=Object(a.useState)(!0),h=Object(n.a)(m,2),x=h[0],f=h[1],p=o.a.actionAddBookToCart,_=o.a.actionRemoveBookFromCart;return Object(a.useEffect)((function(){c.filter((function(e){return e._id===t._id})).length&&(O((function(e){return!e})),f((function(e){return!e})))}),[]),Object(s.jsx)("div",{className:"col mt-3",children:Object(s.jsxs)("div",{className:"card h-100 w-100",children:[Object(s.jsx)("img",{src:"http://placehold.it/400x300",className:"card-img-top",alt:"Some image"}),Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h5",{className:"card-title",children:t.book_name}),Object(s.jsxs)("p",{className:"card-text",children:[b,Object(s.jsx)("a",{href:"#",children:"...read more"})," "]}),Object(s.jsxs)("div",{className:"itemButtons",children:[Object(s.jsx)(i.b,{to:"/book/".concat(t._id),className:"btn btn-primary bottom",children:"Go somewhere"}),Object(s.jsx)("button",{onClick:function(){l(u?p(t):_(t._id)),O((function(e){return!e})),f((function(e){return!e}))},className:u?"btn btn-success":"btn btn-danger",children:x?"Add to cart":"Remove cart"})]})]})]})})});t.default=l},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e){e.exports=JSON.parse("{}")},83:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(1),a=c.n(n),r=c(20),i=c.n(r),o=c(8),l=c(2),b=c(16),j=c.n(b),d={LOAD_FROM_DATA:"LOAD_FROM_DATA",ADD_ITEM_TO_DATA:"ADD_ITEM_TO_DATA",loadFromDataPosts:function(){return{type:d.LOAD_FROM_DATA}},addItemToData:function(e){return{type:d.ADD_ITEM_TO_DATA,payload:e}}},u=d,O={GET_BOOKS:"GET_BOOKS",MORE_BOOKS_DATA:"MORE_BOOKS_DATA",SEARCH_BOOK_DATA:"SEARCH_BOOK_DATA",SEND_BOOK_COMMENT:"SEND_BOOK_COMMENT",actionGetBooks:function(e){return{type:O.GET_BOOKS,payload:e}},actionMoreBooksData:function(){return{type:O.MORE_BOOKS_DATA,payload:20}},actionSearchBookData:function(e){return{type:O.SEARCH_BOOK_DATA,payload:e}},actionSendBookComment:function(e){return{type:O.SEND_BOOK_COMMENT,payload:e}}},m=O,h={GET_USERS:"GET_USERS",GET_USERS_ERROR:"GET_USERS_ERROR",actionsGetUsers:function(e){return{type:h.GET_USERS,payload:e}},actionsGetUsersError:function(e){return{type:h.GET_USERS_ERROR,payload:e}}},x=h,f={GET_AUTHORS:"GET_AUTHROS",actionsGetAuthors:function(e){return{type:f.GET_AUTHORS,payload:e}}},p=f,_=c(6),N=c(7),g=(c(71),c(72),{OPEN_FULL_MENU:"OPEN_FULL_MENU",OPEN_SHORT_MENU:"OPEN_SHORT_MENU",CLOSE_MENU:"CLOSE_MENU",INITIAL_MENU:"INITIAL_MENU",actionInitialMenu:function(){return{type:g.INITIAL_MENU}},actionDasboardOpen:function(e){return{type:g.OPEN_FULL_MENU,payload:e}},actionOpenFullMenu:function(e){return 1===e?{type:g.OPEN_FULL_MENU,payload:e+1}:2===e?{type:g.OPEN_SHORT_MENU,payload:e+1}:{type:g.CLOSE_MENU,payload:1}}}),E=g,v={HEADER_FULLSCREEN_MODE:"HEADER_FULLSCREEN_MODE",HEADER_LOWSCREEN_MODE:"HEADER_LOWSCREEN_MODE",actionHeaderFullScreen:function(){return{type:v.HEADER_FULLSCREEN_MODE}}},k=v,y=c(14),S=c(87),A=c(88),T=function(e){var t=e.menuWidth,c="";return c=1===t?"bi-menu-app":2===t?"bi-menu-button":"bi-menu-button-wide",Object(s.jsx)("i",{className:"bi "+c})},R=function(){var e=Object(l.c)((function(e){return e.menu.menuType})),t=Object(l.c)((function(e){return e.cart.cart})),c=t.length,a=Object(n.useState)(!1),r=Object(o.a)(a,2),i=r[0],b=r[1],j=Object(n.useState)(""),d=Object(o.a)(j,2),u=d[0],O=d[1],h=Object(n.useState)(!1),x=Object(o.a)(h,2),f=(x[0],x[1],Object(n.useState)(!1)),p=Object(o.a)(f,2),N=p[0],g=p[1],v=function(){g((function(e){return!e}))},R=Object(l.b)(),D=E.actionOpenFullMenu,C=(k.actionHeaderFullScreen,m.actionSearchBookData),B=y.a.actionRemoveBookFromCart;return Object(n.useEffect)((function(){document.addEventListener("fullscreenchange",(function(e){document.fullscreenElement,b((function(e){return!e}))}))}),[]),Object(s.jsx)("header",{children:Object(s.jsxs)("div",{className:"col-md-12 h-100 d-flex align-items-md-center d-flex justify-content-around",children:[Object(s.jsx)("div",{className:"col-md-6",children:Object(s.jsx)("button",{onClick:function(){R(D(e))},className:"splitMenuBtn",children:Object(s.jsx)(T,{menuWidth:e})})}),Object(s.jsxs)("div",{className:"col-md-4 d-flex justify-content-end",children:[Object(s.jsxs)("span",{className:"popup-item",children:[Object(s.jsxs)("button",{onClick:v,className:"fillSizeBtn",children:[c?Object(s.jsx)("span",{className:"cartLength badge bg-danger cartL",children:c}):null,Object(s.jsx)("i",{className:"bi bi-cart"})]}),Object(s.jsxs)("div",{className:"popup-div",style:N?{display:"block"}:{display:"none"},children:[Object(s.jsx)("div",{className:"delta"}),Object(s.jsxs)(S.a,{className:"d-flex",style:{justifyContent:"space-between",position:"fixed",zIndex:"99",width:"298px"},children:["Cart ",Object(s.jsx)("i",{onClick:v,className:"bi bi-x-circle rever"})]}),Object(s.jsx)(A.a,{style:{marginTop:"20px"},children:t.length?t.map((function(e){return Object(s.jsxs)("div",{className:"col-md-12 d-flex miniCart",children:[Object(s.jsx)("img",{src:e.book_picture,alt:"",className:"col-md-3"}),Object(s.jsxs)("div",{className:"col-md-8",style:{marginLeft:"2px"},children:[Object(s.jsx)(_.b,{to:"/book/"+e._id,children:Object(s.jsx)("h5",{children:e.book_name})}),Object(s.jsx)("p",{children:e.book_price})]}),Object(s.jsx)("i",{onClick:function(){return t=e._id,void R(B(t));var t},className:"bi bi-x-circle col-md-1"})]},e._id)})):Object(s.jsx)("p",{className:"text-muted mt-4",children:"Add book to cart"})})]})]}),Object(s.jsx)("button",{onClick:function(){console.log(i),i?document.exitFullscreen():document.documentElement.requestFullscreen()},"data-toggle-fullscreen":"false",className:"fillSizeBtn",children:Object(s.jsx)("i",{className:"bi bi-arrows-fullscreen"})}),Object(s.jsxs)("div",{className:"input-group",children:[Object(s.jsx)("input",{onChange:function(e){return O(e.target.value)},type:"text",className:"form-control","aria-label":"Recipient's username","aria-describedby":"button-addon2"}),Object(s.jsx)("button",{onClick:function(){R(C(u))},className:"btn btn-outline-secondary",type:"button",id:"button-addon2",children:"Search"})]})]})]})})},D=(c(74),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.menu.menuType})),c=Object(l.c)((function(e){return e.cart.cart.length})),a=Object(l.c)((function(e){return e.books.booksItems.length})),r=Object(l.c)((function(e){return e.authors.authors.length})),i={width:1===t?"0px":2===t?"90px":"320px",transition:".15s ease-in-out"},o=E.actionInitialMenu,b=E.actionDasboardOpen;return Object(n.useEffect)((function(){e(o())}),[e]),Object(s.jsxs)("div",{className:"dashboard",style:i,children:[Object(s.jsxs)("div",{className:"menu__left",children:[Object(s.jsxs)(_.b,{to:"/cart",className:"d-grid justify-content-md-center linking",children:[Object(s.jsx)("i",{className:"bi bi-cart",style:{fontSize:"40px"}}),Object(s.jsx)("p",{className:"fs-6",children:"Cart"}),c?Object(s.jsx)("span",{className:"cartLength badge bg-danger",children:c}):null]}),Object(s.jsxs)(_.b,{to:"/books",className:"d-grid justify-content-md-center linking",onClick:function(){return e(b())},children:[Object(s.jsx)("i",{className:"bi bi-book",style:{fontSize:"40px"}}),Object(s.jsx)("p",{className:"fs-6",children:"Books"}),a?Object(s.jsx)("span",{className:"bookLength badge bg-primary",children:a}):null]}),Object(s.jsxs)(_.b,{to:"/authors",className:"d-grid justify-content-md-center linking",children:[Object(s.jsx)("i",{className:"bi bi-people",style:{fontSize:"40px"}}),Object(s.jsx)("p",{className:"fs-6",children:"Authors"}),r?Object(s.jsx)("span",{className:"bookLength badge bg-primary",children:r}):null]})]}),Object(s.jsx)("div",{className:"dashboard_line"}),Object(s.jsxs)("div",{className:"menu__right",children:[Object(s.jsx)(N.a,{path:"/books",children:Object(s.jsxs)(V,{children:[Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-bag"})," Bestseller's"]}),Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-gear"})," Gear's"]}),Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-bicycle"})," Sport's"]}),Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-binoculars"})," Travel's"]}),Object(s.jsxs)("a",{href:"",children:[Object(s.jsx)("i",{className:"bi bi-cup-straw"})," Cooking's"]}),Object(s.jsxs)("a",{href:"",children:[Object(s.jsx)("i",{className:"bi bi-dice-5"})," Game's"]}),Object(s.jsxs)("a",{href:"",children:[Object(s.jsx)("i",{className:"bi bi-suit-heart"})," Love Story"]})]})}),Object(s.jsx)(N.a,{path:"/book/:id",children:Object(s.jsxs)(V,{children:[Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-bag"})," Bestseller's"]}),Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-gear"})," Gear's"]}),Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-bicycle"})," Sport's"]}),Object(s.jsxs)("a",{href:"/",children:[Object(s.jsx)("i",{className:"bi bi-binoculars"})," Travel's"]}),Object(s.jsxs)("a",{href:"",children:[Object(s.jsx)("i",{className:"bi bi-cup-straw"})," Cooking's"]}),Object(s.jsxs)("a",{href:"",children:[Object(s.jsx)("i",{className:"bi bi-dice-5"})," Game's"]}),Object(s.jsxs)("a",{href:"",children:[Object(s.jsx)("i",{className:"bi bi-suit-heart"})," Love Story"]})]})}),Object(s.jsx)(N.a,{path:"/authors",children:Object(s.jsx)(V,{children:"Some authors"})})]})]})}),C=(c(75),function(e){var t=e.children,c=(Object(l.b)(),Object(l.c)((function(e){return e.menu.menuType}))),n={marginLeft:1===c?"0px":2===c?"90px":"320px",transition:".15s ease-in-out"};return Object(s.jsx)("div",{className:"wrapper",style:n,children:t})}),B=c(24),w=(c(40),a.a.lazy((function(){return Promise.resolve().then(c.bind(null,40))}))),M=a.a.lazy((function(){return Promise.resolve().then(c.bind(null,41))})),L=E.actionDasboardOpen,U=function(e){e.data;var t=Object(l.c)((function(e){return e.books.booksItems})),c=Object(l.c)((function(e){return e.books.limit})),a=Object(l.c)((function(e){return e.books.searchBook})),r=Object(l.b)(),i=t.slice(0,c);return Object(n.useEffect)((function(){r(L(3))}),[r]),Object(s.jsx)("div",{className:"row row-cols-1 row-cols-md-2 g-6 row-cols-sm-1 row-cols-lg-3 row-cols-xl-4 ml-auto mr-3",style:{padding:"20px"},children:Object(s.jsx)(n.Suspense,{fallback:Object(s.jsx)("div",{children:" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."}),children:!1===a?Object(s.jsx)("h2",{children:"Nothing found"}):a.length?a.map((function(e){return Object(s.jsx)(M,{data:e})})):i.map((function(e){return Object(s.jsx)(w,{data:e},e._id)}))})})},I=(c(77),function(e){Object(B.a)(e);var t=Object(l.b)(),c=Object(l.c)((function(e){return e.books.booksItems})),a=Object(l.c)((function(e){return e.books.isLoad})),r=Object(n.useState)(0),i=Object(o.a)(r,2),b=i[0],d=i[1],u=Object(n.useState)(!0),O=Object(o.a)(u,2),h=O[0],f=(O[1],Object(n.useState)([])),p=Object(o.a)(f,2),g=(p[0],p[1],Object(n.useState)("")),E=Object(o.a)(g,2),v=E[0],k=E[1],y=Object(N.f)().id,S=(m.actionSearchBookData,m.actionSendBookComment),A=m.actionGetBooks,T=(x.actionsGetUsers,Object(n.useState)([])),R=Object(o.a)(T,2),D=R[0],C=R[1];return Object(n.useEffect)((function(){a?C(c.filter((function(e){return e._id===y}))):j.a.get("https://api.allorigins.win/raw?url=http://test.zrkcompany.ru/books.json").then((function(e){t(A(e.data))})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){C(c.filter((function(e){return e._id===y})))}),[a]),Object(n.useEffect)((function(){C(c.filter((function(e){return e._id===y})))}),[v]),0!==D.length?Object(s.jsxs)("div",{className:"col-md-12 p-5",children:[Object(s.jsx)("nav",{"aria-label":"breadcrumb",children:Object(s.jsxs)("ol",{className:"breadcrumb",children:[Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(_.b,{to:"/",children:"Home"})}),Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(_.b,{to:"/books",children:"Books"})}),Object(s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:D[0].book_name})]})}),Object(s.jsxs)("div",{className:"col-md-12 d-md-flex d-lx-flex",children:[Object(s.jsx)("div",{className:"col-md-4 col-lg-4 col-sm-12",children:Object(s.jsx)("img",{src:D[0].book_picture,alt:D[0].book_name,style:{width:"100%"}})}),Object(s.jsxs)("div",{className:"col-md-5 pr-5 col-lg-5 ms-3",children:[Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Name:"})," ",D[0].book_name]}),Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Pages:"})," ",D[0].book_pages]}),Object(s.jsx)("h5",{className:"fs-6",children:Object(s.jsx)("span",{className:"text-muted",children:"Author(s): "})}),Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Age limit:"})," ",D[0].book_age_limit]}),Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Bestsellers:"})," ",D[0].book_bestsellers?"Yes":"No"]}),Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Rating:"})," ",D[0].book_rating," / 5"]}),Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Price: "}),Object(s.jsxs)("span",{className:"text-primary",children:[D[0].book_price,"$"]})]}),Object(s.jsxs)("h5",{className:"fs-6",children:[Object(s.jsx)("span",{className:"text-muted",children:"Description: "}),D[0].book_description]})]})]}),Object(s.jsxs)("div",{className:"col-md-7 col-lg-6 col-sm-12 col-xs-12 mt-4",children:[Object(s.jsx)("h5",{children:"Add comment:"}),Object(s.jsxs)("div",{className:"form-floating mt-1",children:[Object(s.jsx)("textarea",{className:"form-control",value:v,onChange:function(e){d(e.target.value.length),k(e.target.value)},placeholder:"Leave a comment here",id:"floatingTextarea2",style:{height:"100px"}}),Object(s.jsx)("label",{for:"floatingTextarea2",children:"Add your comments"})]}),Object(s.jsxs)("div",{className:"col-md-12 d-flex justify-content-end align-items-baseline",children:[Object(s.jsxs)("p",{className:"text-muted",style:{fontSize:"14px"},children:[b," / 500"]}),Object(s.jsx)("button",{onClick:function(){console.log("work");var e=D[0]._id;b&&b<=500&&t(S({book_id:e,user_id:h,comment:v})),k(""),d(0)},className:"btn btn-primary d-flex mt-2 ms-2",children:"Send"})]})]}),Object(s.jsxs)("div",{className:"col-md-12 col-lg-12 mt-4",children:[Object(s.jsxs)("h5",{children:[Object(s.jsx)("i",{className:"bi bi-chat me-2 comments_leng",children:Object(s.jsx)("span",{children:D[0].book_comments.length})}),"Comments:"]}),0!==D[0].book_comments.length?D[0].book_comments.map((function(e){return Object(s.jsx)(K,{data:e},e._id)})):Object(s.jsx)("h5",{className:"text-muted",children:"There are no comments. Be the first!"})]})]}):Object(s.jsx)(W,{})}),G=(c(41),a.a.lazy((function(){return Promise.resolve().then(c.bind(null,41))}))),F=E.actionDasboardOpen,H=function(e){e.data;var t=Object(l.b)(),c=Object(l.c)((function(e){return e.books.limit})),a=Object(l.c)((function(e){return e.cart.cart}));a.slice(0,c);return Object(n.useEffect)((function(){t(F(2))}),[t]),Object(s.jsx)("div",{className:"row row-cols-1 row-cols-md-2 g-6 row-cols-sm-1 row-cols-lg-3 row-cols-xl-4 ml-auto mr-3",style:{padding:"20px"},children:Object(s.jsx)(n.Suspense,{fallback:Object(s.jsx)("div",{children:" \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."}),children:a.length?a.map((function(e){return Object(s.jsx)(G,{data:e},e._id)})):Object(s.jsx)("h1",{className:"w-100",children:"There is nothing in the basket"})})})},K=(c(79),function(e){var t=e.data,c=Object(l.c)((function(e){return e.users.users})),a=Object(n.useState)([]),r=Object(o.a)(a,2),i=r[0],b=r[1];return Object(n.useEffect)((function(){b(c.filter((function(e){return e._id===t.user_id})))}),[c]),Object(s.jsxs)("div",{className:"col-lg-6 col-md-7 mt-1 d-flex",children:[Object(s.jsx)("div",{className:"comment_profile",children:!0===t.user_id?Object(s.jsx)("i",{className:"bi bi-person-circle"}):Object(s.jsx)("img",{src:"http://placehold.it/400x300"})}),Object(s.jsxs)("div",{className:"col-lg-11 col-md-11 comment ms-2",children:[!0===t.user_id?Object(s.jsx)("h5",{className:"fs-6 text mb-0 mt-1",children:"Anonym"}):Object(s.jsx)(_.b,{to:"/user/"+t.user_id,children:0!==i.length?Object(s.jsxs)("h5",{className:"fs-6 text mb-0 mt-1",children:[i[0].user_firstname," ",i[0].user_lastname]}):Object(s.jsx)(W,{})}),Object(s.jsx)("p",{className:"text-break",style:{fontSize:"14px"},children:t.comment})]})]})}),P=(c(84),function(){var e=a.a.lazy((function(){return Promise.resolve().then(c.bind(null,84))})),t=Object(l.c)((function(e){return e.authors.authors}));return Object(s.jsx)("div",{className:"row row-cols-1 row-cols-md-2 g-6 row-cols-sm-1 row-cols-lg-3 row-cols-xl-4 ml-auto mr-3",style:{padding:"20px"},children:Object(s.jsx)(n.Suspense,{fallback:Object(s.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:t.length?t.map((function(t){return Object(s.jsx)(e,{data:t},t._id)})):t.map((function(t){return Object(s.jsx)(e,{data:t})}))})})}),z=function(){var e=Object(l.c)((function(e){return e.books.booksItems})),t=Object(l.c)((function(e){return e.authors.authors})),c=Object(N.f)().id,n=t.filter((function(e){return e._id===c}));console.log(n);var a=e.filter((function(e){return!n.some((function(t){return t.author_books==e._id}))}));return console.log(a),Object(s.jsxs)("div",{className:"col-md-12 col-lg-12 mt-4",children:[Object(s.jsx)("div",{className:"col-sm-8",children:Object(s.jsx)("img",{src:n[0].author_picture,className:"w-100 img-fluid img-thumbnail",alt:"Author photo"})}),Object(s.jsxs)("div",{className:"col-sm-12 mt-4",children:[Object(s.jsx)("h1",{children:"Information: "}),Object(s.jsxs)("h3",{children:["Name: ",n[0].author_firstname," ",n[0].author_lastname]}),Object(s.jsxs)("h3",{children:["Bird day: ",n[0].author_data]}),Object(s.jsxs)("h3",{children:["Age: ",n[0].author_age]}),Object(s.jsxs)("h3",{children:["Country: ",n[0].author_country]}),Object(s.jsxs)("h3",{children:["Adress: ",n[0].author_address]}),Object(s.jsxs)("h3",{children:["Phone: ",n[0].author_phone]}),Object(s.jsxs)("h3",{children:["Email: ",n[0].author_email]}),Object(s.jsx)("h1",{children:"Bio:"}),Object(s.jsx)("h3",{children:n[0].author_description}),Object(s.jsx)("h1",{children:"Books: "}),Object(s.jsx)("div",{})]})]})},V=(c(80),function(e){var t=e.children;return Object(s.jsx)("div",{className:"smallWrap",children:t})}),W=function(){return Object(s.jsx)("div",{className:"col-md-12 col-sm-12 col-lg-12 col-xs-12 d-flex justify-content-center h-100 mt-5",children:Object(s.jsx)("div",{className:"spinner-border",role:"status",children:Object(s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})},X=(c(81),function(e){var t=e.children;return Object(s.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12 col-xs-12 wrapper-color",children:t})}),J=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(l.c)((function(e){return e.posts.posts})),i=(Object(l.c)((function(e){return e.books.booksItems})),Object(l.c)((function(e){return e.books.booksItems}))),b=Object(l.c)((function(e){return e.books.limit})),d=Object(l.c)((function(e){return e.books.searching})),O=(Object(l.c)((function(e){return e.books.isLoad})),Object(l.b)()),h=u.loadFromDataPosts,f=u.addItemToData,g=m.actionMoreBooksData,E=m.actionGetBooks,v=x.actionsGetUsers,k=x.actionsGetUsersError,y=p.actionsGetAuthors;return Object(n.useEffect)((function(){O(h()),j.a.get("https://api.allorigins.win/raw?url=http://test.zrkcompany.ru/users.json").then((function(e){O(v(e.data))})).catch((function(e){O(k(e))})),j.a.get("https://api.allorigins.win/raw?url=http://test.zrkcompany.ru/books.json").then((function(e){O(E(e.data))})).catch((function(e){console.log(e)})),j.a.get("https://api.allorigins.win/raw?url=http://test.zrkcompany.ru/authors.json").then((function(e){O(y(e.data))})).catch((function(e){console.log(e)}))}),[]),Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(_.a,{children:[Object(s.jsx)(R,{}),Object(s.jsx)(D,{}),Object(s.jsx)(C,{children:Object(s.jsxs)(N.c,{children:[Object(s.jsx)(N.a,{path:"/books",children:Object(s.jsxs)(X,{children:[Object(s.jsx)("nav",{"aria-label":"breadcrumb",className:"p-4 pb-0",children:Object(s.jsxs)("ol",{className:"breadcrumb mb-0",children:[Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(_.b,{to:"/",children:"Home"})}),Object(s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Books"})]})}),Object(s.jsx)(U,{data:r}),d?null:Object(s.jsx)("div",{className:"col-md-12 d-flex justify-content-md-center mt-4",children:b>=i.length?null:Object(s.jsx)("button",{onClick:function(){O(g())},className:"btn btn-primary",children:"Load more"})})]})}),Object(s.jsx)(N.a,{path:"/book/:id",children:Object(s.jsx)(X,{children:Object(s.jsx)(I,{})})}),Object(s.jsx)(N.a,{path:"/author/:id",children:Object(s.jsx)(z,{})}),Object(s.jsx)(N.a,{path:"/cart",children:Object(s.jsxs)(X,{children:[Object(s.jsx)("nav",{"aria-label":"breadcrumb",className:"p-4 pb-0",children:Object(s.jsxs)("ol",{className:"breadcrumb mb-0",children:[Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(_.b,{to:"/",children:"Home"})}),Object(s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Cart"})]})}),Object(s.jsx)(H,{})]})}),Object(s.jsx)(N.a,{path:"/authors",children:Object(s.jsxs)(X,{children:[Object(s.jsx)("nav",{"aria-label":"breadcrumb",className:"p-4 pb-0",children:Object(s.jsxs)("ol",{className:"breadcrumb mb-0",children:[Object(s.jsx)("li",{className:"breadcrumb-item",children:Object(s.jsx)(_.b,{to:"/",children:"Home"})}),Object(s.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Authors"})]})}),Object(s.jsx)(P,{})]})}),Object(s.jsx)(N.a,{path:"/",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"test",name:"add",onChange:function(e){a((function(t){return e.target.value}))}}),Object(s.jsx)("button",{type:"button",onClick:function(){O(f({name:c,surname:"test",age:"212",bDate:Date.now()}))},children:"Add"})]})})]})})]})})},$=c(15),q=c(43),Y=c(25),Q=c(3),Z={posts:[]},ee={menuType:2},te=E.OPEN_FULL_MENU,ce=E.OPEN_SHORT_MENU,se=E.CLOSE_MENU,ne=(c(82),{limit:20,booksItems:[],searchBook:[],searching:!1,isLoad:!1}),ae=m.GET_BOOKS,re=m.MORE_BOOKS_DATA,ie=m.SEARCH_BOOK_DATA,oe=m.SEND_BOOK_COMMENT,le={fullScreen:!1},be=k.HEADER_FULLSCREEN_MODE,je=y.a.ACTION_ADD_BOOK_TO_CART,de=y.a.ACTION_REMOVE_BOOK_FROM_CART,ue={cart:[]},Oe={authors:[]},me=p.GET_AUTHORS,he={users:[],getUsers:[],isError:"",isLoad:!1},xe=x.GET_USERS,fe=x.GET_USERS_ERROR,pe=Object($.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case"LOAD_FROM_DATA":return Object(Q.a)({},e);case"ADD_ITEM_TO_DATA":return Object(Q.a)(Object(Q.a)({},e),{},{posts:[].concat(Object(Y.a)(e.posts),[s])});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case te:case ce:case se:return Object(Q.a)(Object(Q.a)({},e),{},{menuType:s});default:return e}},books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case ae:return Object(Q.a)(Object(Q.a)({},e),{},{booksItems:s,isLoad:!0});case re:return Object(Q.a)(Object(Q.a)({},e),{},{limit:e.limit+s});case oe:var n=s.book_id,a=s.user_id,r=s.comment,i={user_id:a,book_id:n,comment:r},o=[];return e.booksItems.map((function(e){e._id===n&&e.book_comments.unshift(i),o.push(e)})),Object(Q.a)(Object(Q.a)({},e),{},{booksItems:o});case ie:if(0!==s.length){console.log(e);var l=e.booksItems.filter((function(e){return e.book_name.toLowerCase().includes(s.toLowerCase())}));return console.log(l),0!==l.length?(console.log("In "),Object(Q.a)(Object(Q.a)({},e),{},{searchBook:l,searching:!0})):Object(Q.a)(Object(Q.a)({},e),{},{searchBook:!1,searching:!0})}return Object(Q.a)(Object(Q.a)({},e),{},{searchBook:[],searching:!1});default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,c=t.type;t.payload;switch(c){case be:return Object(Q.a)(Object(Q.a)({},e),{},{fullScreen:!e.fullScreen});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case je:return Object(Q.a)(Object(Q.a)({},e),{},{cart:[].concat(Object(Y.a)(e.cart),[s])});case de:return Object(Q.a)(Object(Q.a)({},e),{},{cart:e.cart.filter((function(e){return e._id!==s}))});default:return Object(Q.a)({},e)}},authors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case me:return Object(Q.a)(Object(Q.a)({},e),{},{authors:s});default:return Object(Q.a)({},e)}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,c=t.type,s=t.payload;switch(c){case xe:return Object(Q.a)(Object(Q.a)({},e),{},{users:s});case fe:return Object(Q.a)(Object(Q.a)({},e),{},{isError:s});default:return Object(Q.a)({},e)}}}),_e=Object($.e)(pe,Object($.d)(Object($.a)(q.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(Object(s.jsx)(l.a,{store:_e,children:Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(J,{})})}),document.getElementById("root"))},84:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c(6),a=function(e){var t=e.data;return Object(s.jsx)("div",{className:"col mt-3",style:{height:"400px"},children:Object(s.jsx)(n.b,{to:"author/"+t._id,children:Object(s.jsx)("div",{className:"card h-100 w-100",children:Object(s.jsx)("img",{src:"http://placehold.it/400x400",className:"card-item-top",alt:"Some img"})})})})};t.default=a}},[[83,1,2]]]);
//# sourceMappingURL=main.63394e5c.chunk.js.map